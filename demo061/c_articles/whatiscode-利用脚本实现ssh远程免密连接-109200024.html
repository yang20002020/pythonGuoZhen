<head> <meta charset="utf-8" </head>
                      <div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>当我们进行ssh远程连接服务器的时候，需要记住服务器用户名、ip地址以及密码，比较麻烦。本文介绍了一种使用脚本来进行ssh远程连接到服务器的方法。</p> 
</blockquote> 
<h2><a id="1_ssh_2"></a>1 写一个ssh脚本</h2> 
<p>首先输入以下指令，创建一个脚本文件，将其命名为ssh_example.sh（你可以自定义名字），并用vim打开。</p> 
<pre><code class="prism language-shell">vim ssh_example.sh
</code></pre> 
<p>然后在文件中添加以下内容：</p> 
<pre><code class="prism language-shell"><span class="token function">ssh</span> user@192.164.112.64 	<span class="token comment">#注意：user为你所要登陆服务器的用户名，@后面为服务器的ip地址</span>
</code></pre> 
<p>按 <code>Esc</code> ，回到正常模式，并输入 <code>:wq</code> 保存并退出。</p> 
<h2><a id="2__20"></a>2 为脚本添加可执行权限</h2> 
<p>输入以下指令，为脚本文件添加用户可执行权限：</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> u+x ssh_example.sh
</code></pre> 
<p>然后我们就可以通过 <code>./ssh_example.sh</code> 来对服务器进行远程连接了，不过此时我们还需要输入服务器的密码。</p> 
<h2><a id="3__32"></a>3 配置公钥和密钥</h2> 
<h3><a id="31__34"></a>3.1 在主机生成秘钥对</h3> 
<pre><code class="prism language-shell">ssh-keygen -t rsa
</code></pre> 
<p>默认回车，如果有问yes/no的地方输入yes，直到出现以下信息，则表示成功：</p> 
<pre><code class="prism language-shell">The key's randomart image is:
+---<span class="token punctuation">[</span>RSA 3072<span class="token punctuation">]</span>----+
<span class="token operator">|</span>        <span class="token keyword">.</span> B+     <span class="token operator">|</span>
<span class="token operator">|</span>      <span class="token punctuation">..</span> B +o    <span class="token operator">|</span>
<span class="token operator">|</span>      .o. <span class="token operator">=</span><span class="token punctuation">..</span>    <span class="token operator">|</span>
<span class="token operator">|</span>     oo.+ oo <span class="token keyword">.</span>   <span class="token operator">|</span>
<span class="token operator">|</span>      ++S+ +. <span class="token keyword">.</span>  <span class="token operator">|</span>
<span class="token operator">|</span>      .+ o+ <span class="token punctuation">..</span> <span class="token keyword">.</span> <span class="token operator">|</span>
<span class="token operator">|</span>       o*o. <span class="token keyword">.</span> o  <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token punctuation">..</span> B+.o o   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token punctuation">..</span>o*BX+ E    <span class="token operator">|</span>
+----<span class="token punctuation">[</span>SHA256<span class="token punctuation">]</span>-----+
</code></pre> 
<h3><a id="32__57"></a>3.2 将公钥复制到服务器</h3> 
<pre><code class="prism language-shell">ssh-copy-id -p 22 -i ~/.ssh/id_rsa.pub user@192.164.112.64	<span class="token comment"># 注意：这里的服务器用户名和ip地址填你自己的</span>
<span class="token comment"># 然后会让输入密码</span>
</code></pre> 
<p>这时候登录服务器，会发现在/home/user/.ssh/目录下多了个文件authorized_keys。</p> 
<p>现在你只需要输入 <code>ssh_example.sh</code> 就可以直接连接到服务器了，不再需要输入密码了。</p>
                </div>
                